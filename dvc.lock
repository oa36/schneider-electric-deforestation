schema: '2.0'
stages:
  prepare_labels:
    cmd: pipenv run python src/prep_classes.py
    deps:
    - path: data/test.csv
      md5: f9c6b513fb437f4a167532e484e12efd
      size: 46610
    - path: data/train.csv
      md5: 0868925e73df7f4ddf92ccbd229fd288
      size: 130952
    - path: src/prep_classes.py
      md5: 156ef9fc3f9c40caf6e86effec754553
      size: 699
    outs:
    - path: intermediate_outputs/test_labels.pickle
      md5: bb66fedbbe86675a8bb7f30edcb7cab3
      size: 40587
    - path: intermediate_outputs/train_labels.pickle
      md5: c344f62e7067499ee159b7fbff07797f
      size: 123483
  train_model:
    cmd: pipenv run python src/train.py
    deps:
    - path: intermediate_outputs/train_labels.pickle
      md5: c344f62e7067499ee159b7fbff07797f
      size: 123483
    - path: src/prep_classes.py
      md5: 156ef9fc3f9c40caf6e86effec754553
      size: 699
    - path: src/pytorch_cnn_models.py
      md5: dee632d338338027033785388cf46dd5
      size: 1850
    - path: src/pytorch_data_loader.py
      md5: 5e2cdd6d80350806a9a937096a21c9f0
      size: 1529
    - path: src/train.py
      md5: a735ee0fa5ed4c5d3676cc76ad621dd3
      size: 3529
    outs:
    - path: intermediate_outputs/train_acc_df.csv
      md5: f8b22b48b17e91a25ef034c32b62cf7d
      size: 623
    - path: intermediate_outputs/train_loss_df.csv
      md5: 020eac0729231a4cf6dd54adcbf52b12
      size: 622
  train_and_test_model:
    cmd: pipenv run python main.py
    deps:
    - path: intermediate_outputs/train_labels.pickle
      md5: c344f62e7067499ee159b7fbff07797f
      size: 123483
    - path: main.py
      md5: 2899673b9d959197f088d40422c3f131
      size: 5269
    - path: src/prep_classes.py
      md5: 156ef9fc3f9c40caf6e86effec754553
      size: 699
    - path: src/pytorch_cnn_models.py
      md5: dee632d338338027033785388cf46dd5
      size: 1850
    - path: src/pytorch_data_loader.py
      md5: 4d46b2132a3a005895c4c81c3048b22f
      size: 1615
    outs:
    - path: intermediate_outputs/train_acc_df.csv
      md5: 7f8bf740f6d418d9744bbaec03d50052
      size: 606
    - path: intermediate_outputs/train_loss_df.csv
      md5: f13506242ad6e68b2c312767cd891af6
      size: 618
    - path: predictions.json
      md5: 944cabbee4e69cdb29a823c9646abddc
      size: 6252
